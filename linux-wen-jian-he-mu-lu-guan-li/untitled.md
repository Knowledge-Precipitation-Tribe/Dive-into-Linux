# vim

## 什么是vim

vim是从vi发展出来的文本编辑器。vim分为以下三种模式：

* 命令模式
* 输入模式
* 底线命令模式

### 命令模式

用户刚进入vim便进入了命令模式，此状态下敲击键盘动作会被Vim识别为命令，而非输入字符。比如我们此时按下i，并不会输入一个字符，i被当作了一个命令。

以下是常用的几个命令：

* **i** 切换到输入模式，以输入字符。
* **x** 删除当前光标所在处的字符。
* **:** 切换到底线命令模式，以在最底一行输入命令。
* dd：双击d会删除当前行
* 查找：在此模式下输入/，然后输入自己想查找的字符串，按回车。

### 输入模式

在命令模式下按下i就进入了输入模式。在输入模式中，可以使用以下按键：

* **字符按键以及Shift组合**，输入字符
* **ENTER**，回车键，换行
* **BACK SPACE**，退格键，删除光标前一个字符
* **DEL**，删除键，删除光标后一个字符
* **方向键**，在文本中移动光标
* **HOME**/**END**，移动光标到行首/行尾
* **Page Up**/**Page Down**，上/下翻页
* **Insert**，切换光标为输入/替换模式，光标将变成竖线/下划线
* **ESC**，退出输入模式，切换到命令模式

### 底线命令模式

在命令模式下按下:（英文冒号）就进入了底线命令模式。

底线命令模式可以输入单个或多个字符的命令，可用的命令非常多。

在底线命令模式中，基本的命令有（已经省略了冒号）：

* q 退出程序
* w 保存文件

也可以加!表示强制执行。按ESC键可随时退出底线命令模式。

## vim常用按键功能

| 移动光标的方法 |  |
| :--- | :--- |
| Ctrl+f | 屏幕向下移动一页 |
| Ctrl+b | 屏幕向上移动一页 |
| 数字0或者Home | 移动到这一行的最前面字符处 |
| $或End | 移动到这一行的最后面字符处 |
| G | 移动到这个文件的最后一行 |
| gg | 移动到这个文件的第一行 |
| 查找与替换 |  |
| /word | 向下查找一个名称为word的字符串 |
| n | 重复上一个查找的操作（例：如果我们找word这个单词，按下n后会继续向下查找） |
| :n1,n2s/word1/word2/g | n1，n2为数字。在第n1行与n2行之间寻找word1这个关键字，并将该字符串替换为word2。 |
| :1,$s/word1,word2/g | 从第一行到最后一个行查找word1并替换为word2 |
| :1,$s/word1/word2/gc | 从第一行到最后一个行查找word1并替换为word2，且在替换之前显示提示字符给用户确认是否需要替换。 |
| 删除，复制与粘贴 |  |
| x,X | 在一行文字当中，x为向后删除一个字符，X为向前删除一个字符。 |
| dd | 删除光标所在的那一整行 |
| ndd | n为数字。删除光标向下的n行 |
| yy | 复制光标所在的那一行 |
| nyy | n为数字，复制从光标所在的向下n行 |
| p | 将已复制的数据在光标下一行粘贴 |
| u | 复原前一个操作 |
| Ctrl+r | 重做上一个操作 |
| 进入插入或编辑模式 |  |
| i，I | 从光标所在处插入 |
| a，A | 从光标的下一个字符开始插入 |
| o，O | 从光标所在的下一行处插入新的一行 |
| r，R | r只会替换光标所在的那一个字符一次，R会一直替换光标所在的文字。 |
| 块选择 |  |
| v | 字符选择，会将光标经过的地方反白选择 |
| V | 行选择，会将光标经过的行反白选择 |
| Ctrl+v | 块选择，可以用长方形的方式选择数据 |
| y | 将反白的地方复制 |
| d | 将反白的地方删除 |

